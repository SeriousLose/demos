<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body></body>
</html>
<script>
  let obj = [
    {
      appId: '',
      checked: false,
      children: [
        {
          appId: '',
          checked: false,
          children: [
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '3',
              level: 0,
              path: '',
              state: 'open',
              text: '客户接待能力',
              type: 3,
            },
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '5',
              level: 0,
              path: '',
              state: 'open',
              text: '售后服务能力',
              type: 3,
            },
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '324',
              level: 0,
              path: '',
              state: 'open',
              text: '化妆技巧达标',
              type: 3,
            },
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '325',
              level: 0,
              path: '',
              state: 'open',
              text: '航成长题库',
              type: 3,
            },
          ],
          iconCls: '',
          id: '2',
          level: 0,
          path: '',
          state: 'open',
          text: '客户沟通能力',
          type: 2,
        },
        {
          appId: '',
          checked: false,
          children: [
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '296',
              level: 0,
              path: '',
              state: 'open',
              text: '陈列知识',
              type: 3,
            },
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '322',
              level: 0,
              path: '',
              state: 'open',
              text: '基础知识',
              type: 3,
            },
          ],
          iconCls: '',
          id: '4',
          level: 0,
          path: '',
          state: 'open',
          text: '顾客识别能力',
          type: 2,
        },
        {
          appId: '',
          checked: false,
          children: [
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '1079',
              level: 0,
              path: '',
              state: 'open',
              text: '超级导购相关',
              type: 3,
            },
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '1080',
              level: 0,
              path: '',
              state: 'open',
              text: '会员小店相关',
              type: 3,
            },
          ],
          iconCls: '',
          id: '328',
          level: 0,
          path: '',
          state: 'open',
          text: '信息应用能力',
          type: 2,
        },
      ],
      iconCls: '',
      id: '1',
      level: 0,
      path: '',
      state: 'open',
      text: '销售能力评估',
      type: 1,
    },
    {
      appId: '',
      checked: false,
      children: [
        {
          appId: '',
          checked: false,
          children: [],
          iconCls: '',
          id: '1078',
          level: 0,
          path: '',
          state: 'open',
          text: '面料知识评估',
          type: 2,
        },
        {
          appId: '',
          checked: false,
          children: [],
          iconCls: '',
          id: '1081',
          level: 0,
          path: '',
          state: 'open',
          text: '搭配能力相关',
          type: 2,
        },
        {
          appId: '',
          checked: false,
          children: [],
          iconCls: '',
          id: '1291',
          level: 0,
          path: '',
          state: 'open',
          text: '发生大',
          type: 2,
        },
        {
          appId: '',
          checked: false,
          children: [],
          iconCls: '',
          id: '1292',
          level: 0,
          path: '',
          state: 'open',
          text: '敖德萨公司的',
          type: 2,
        },
      ],
      iconCls: '',
      id: '1077',
      level: 0,
      path: '',
      state: 'open',
      text: '产品知识评估',
      type: 1,
    },
    {
      appId: '',
      checked: false,
      children: [],
      iconCls: '',
      id: '1192',
      level: 0,
      path: '',
      state: 'open',
      text: '默认分类',
      type: 1,
    },
    {
      appId: '',
      checked: false,
      children: [
        {
          appId: '',
          checked: false,
          children: [
            {
              appId: '',
              checked: false,
              children: [],
              iconCls: '',
              id: '1307',
              level: 0,
              path: '',
              state: 'open',
              text: '13233',
              type: 3,
            },
          ],
          iconCls: '',
          id: '1306',
          level: 0,
          path: '',
          state: 'open',
          text: '1213',
          type: 2,
        },
      ],
      iconCls: '',
      id: '1273',
      level: 0,
      path: '',
      state: 'open',
      text: '默认分类1',
      type: 1,
    },
    {
      appId: '',
      checked: false,
      children: [],
      iconCls: '',
      id: '1431',
      level: 0,
      path: '',
      state: 'open',
      text: '默认分类',
      type: 1,
    },
  ];

  let tree = {};
  tree.children = obj;
  tree.text = '全部分类';
  tree.type = 0;
  let treeData = [tree];

  /**
   * 遍历分类树
   * @param node 分类对象
   * @param callback 需要对每一个对象要做的操作
   */
  function treeRecursive(node, callback) {
    node = Object.assign(node);
    callback(node);
    if (node.children) {
      node.children.forEach((childNode) => {
        childNode = Object.assign(childNode);
        this.treeRecursive(childNode, callback);
      });
    }
  }

  treeData.map((el, item) => {
    this.treeRecursive(el, (node) => {
      node.label = node.text; //组织名称
      node.typeShow = node.type;
      node.type = 0;
    });
  });
  console.log(treeData);
</script>
